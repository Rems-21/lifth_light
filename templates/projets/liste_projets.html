{% extends 'base.html' %}
{% load static %}

{% block title %}Projets - Lift and Light{% endblock %}
{% block meta_description %}Portfolio des projets Lift and Light - Découvrez nos réalisations en ascenseurs, climatisation, électricité et groupes électrogènes.{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="section-overlay"></div>
    <div class="container d-flex justify-content-center align-items-center">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="text-white mb-5 animate-fadeInUp">Nos Projets</h1>
                <p class="text-white lead animate-fadeInUp" style="animation-delay: 0.2s;">Découvrez nos réalisations et notre expertise</p>
            </div>
        </div>
    </div>
    <div class="image-wrap">
        <img src="{% static 'images/ascenceur.jpg' %}" class="custom-image" alt="Projets Lift and Light">
    </div>
</section>

<!-- Portfolio Filter -->
<section class="section-padding">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2>Notre Portfolio</h2>
                <p class="lead">Des projets variés qui témoignent de notre expertise</p>
            </div>
        </div>

        <!-- Filter Buttons -->
        <div class="row mb-5">
            <div class="col-12 text-center">
                <div class="btn-group" role="group" aria-label="Filter buttons">
                    <a href="{% url 'projets:liste_projets' %}" class="btn btn-outline-primary {% if not categorie_active %}active{% endif %}">Tous</a>
                    <a href="{% url 'projets:liste_projets' %}?categorie=ascenseur" class="btn btn-outline-primary {% if categorie_active == 'ascenseur' %}active{% endif %}">Ascenseurs</a>
                    <a href="{% url 'projets:liste_projets' %}?categorie=climatisation" class="btn btn-outline-primary {% if categorie_active == 'climatisation' %}active{% endif %}">Climatisation</a>
                    <a href="{% url 'projets:liste_projets' %}?categorie=electricite" class="btn btn-outline-primary {% if categorie_active == 'electricite' %}active{% endif %}">Électricité</a>
                    <a href="{% url 'projets:liste_projets' %}?categorie=groupe_electrogene" class="btn btn-outline-primary {% if categorie_active == 'groupe_electrogene' %}active{% endif %}">Groupes Électrogènes</a>
                </div>
            </div>
        </div>

        <!-- Portfolio Grid -->
        <div class="row">
            {% for projet in projets %}
            <div class="col-lg-4 col-md-6 col-12 mb-4">
                <div class="card h-100 shadow hover-lift animate-fadeInUp">
                    {% if projet.image_principale %}
                        <img src="{{ projet.image_principale.url }}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% elif projet.categorie == 'ascenseur' %}
                        <img src="{% static 'images/ascenceur.jpg' %}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% elif projet.categorie == 'climatisation' %}
                        <img src="{% static 'images/climatisation.jpg' %}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% elif projet.categorie == 'electricite' %}
                        <img src="{% static 'images/electricite.jpg' %}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% elif projet.categorie == 'groupe_electrogene' %}
                        <img src="{% static 'images/groupe_electrogene.jpg' %}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% else %}
                        <img src="{% static 'images/ascenceur.jpg' %}" class="card-img-top" style="height: 250px; object-fit: cover;" alt="{{ projet.titre }}" loading="lazy">
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ projet.titre }}</h5>
                        <p class="card-text">{{ projet.description|truncatewords:20 }}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <small class="text-muted">{{ projet.date_creation|date:"F Y" }}</small>
                            <span class="badge bg-primary">{{ projet.get_categorie_display }}</span>
                        </div>
                    </div>
                    <div class="card-footer bg-transparent border-0">
                        <a href="{{ projet.get_absolute_url }}" class="btn btn-primary w-100">Voir la galerie</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="lead">Aucun projet disponible pour le moment.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="section-padding section-bg">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2>Nos Réalisations en Chiffres</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-6 col-12 mb-4">
                <div class="text-center animate-fadeInUp">
                    <h3 class="text-primary mb-2">500+</h3>
                    <p class="mb-0">Projets Réalisés</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-12 mb-4">
                <div class="text-center animate-fadeInUp" style="animation-delay: 0.2s;">
                    <h3 class="text-primary mb-2">16+</h3>
                    <p class="mb-0">Années d'Expérience</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-12 mb-4">
                <div class="text-center animate-fadeInUp" style="animation-delay: 0.4s;">
                    <h3 class="text-primary mb-2">98%</h3>
                    <p class="mb-0">Clients Satisfaits</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-12 mb-4">
                <div class="text-center animate-fadeInUp" style="animation-delay: 0.6s;">
                    <h3 class="text-primary mb-2">24/7</h3>
                    <p class="mb-0">Support Technique</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/count-up.js' %}"></script>
{% endblock %}

